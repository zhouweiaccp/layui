
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>子页面</title>

<script src="../src/layui.js"></script>
<link rel="stylesheet" href="../src/css/layui.css">

<style>
body{padding: 10px;}
</style>
</head>
<body>
  <div class="children" style="padding: 2em;">
    chilren
    <input id="lay-input">
    <div id="lay-output" style="background-color: #fff; margin-top: 10px; min-height: 50px;"></div>
</div>
<script>
  layui.config({
  dir: '' //layui.js 所在路径（注意，如果是 script 单独引入 layui.js，无需设定该参数。），一般情况下可以无视
  ,version: false //一般用于更新模块缓存，默认不开启。设为 true 即让浏览器不缓存。也可以设为一个固定的值，如：201610
  ,debug: false //用于开启调试模式，默认 false，如果设为 true，则JS模块的节点会保留在页面
  ,base: '../src/lay/modules/' //设定扩展的 layui 模块的所在目录，一般用于外部模块扩展/src/lay/modules/
});
// js
//layui.use(['../src/lay/modules/jquery', '../src/lay/modules/common'], function($, common) {
  layui.use(['jquery', 'common'], function($, common) {
  var message

  $('#lay-input').on('input', function() {
    message = $(this).val()
    common.$emit('on-children', { message: 'from children: ' + message })
  })

  common.$on('on-father', function(data) {
    $('#lay-output').html(data.message)
  })
})
</script>
</body>
</html>